"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _classPrivateFieldGet4 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldGet"));
var _classPrivateFieldSet2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldSet"));
var _botframeworkStreaming = require("botframework-streaming");
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var _connectCalled = /*#__PURE__*/new WeakMap();
var _handleNetworkInformationChange = /*#__PURE__*/new WeakMap();
var _initialNetworkInformationType = /*#__PURE__*/new WeakMap();
var _networkInformation = /*#__PURE__*/new WeakMap();
var WebSocketClientWithNetworkInformation = /*#__PURE__*/function (_WebSocketClient) {
  (0, _inherits2["default"])(WebSocketClientWithNetworkInformation, _WebSocketClient);
  var _super = _createSuper(WebSocketClientWithNetworkInformation);
  function WebSocketClientWithNetworkInformation(_ref) {
    var _this;
    var disconnectionHandler = _ref.disconnectionHandler,
      networkInformation = _ref.networkInformation,
      requestHandler = _ref.requestHandler,
      url = _ref.url;
    (0, _classCallCheck2["default"])(this, WebSocketClientWithNetworkInformation);
    _this = _super.call(this, {
      disconnectionHandler: disconnectionHandler,
      requestHandler: requestHandler,
      url: url
    });
    _connectCalled.set((0, _assertThisInitialized2["default"])(_this), {
      writable: true,
      value: false
    });
    _handleNetworkInformationChange.set((0, _assertThisInitialized2["default"])(_this), {
      writable: true,
      value: function value() {
        return (0, _classPrivateFieldGet4["default"])((0, _assertThisInitialized2["default"])(_this), _initialNetworkInformationType) === (0, _classPrivateFieldGet4["default"])((0, _assertThisInitialized2["default"])(_this), _networkInformation).type || _this.disconnect();
      }
    });
    _initialNetworkInformationType.set((0, _assertThisInitialized2["default"])(_this), {
      writable: true,
      value: void 0
    });
    _networkInformation.set((0, _assertThisInitialized2["default"])(_this), {
      writable: true,
      value: void 0
    });
    (0, _classPrivateFieldSet2["default"])((0, _assertThisInitialized2["default"])(_this), _networkInformation, networkInformation);
    return _this;
  }

  // According to W3C Network Information API, https://wicg.github.io/netinfo/#handling-changes-to-the-underlying-connection.
  // NetworkInformation.onChange event will be fired on any changes to: `downlinkMax`, `type`, `downlink`, or `rtt`.
  (0, _createClass2["default"])(WebSocketClientWithNetworkInformation, [{
    key: "connect",
    value:
    // TODO: Better, the `NetworkInformation` instance should be passed to `BrowserWebSocketClient` -> `BrowserWebSocket`.
    //       `BrowserWebSocket` is where it creates `WebSocket` object.
    //       The `NetworkInformation` instance should accompany `WebSocket` and forcibly close it on abort.
    //       Maybe `botframework-streaming` should accept ponyfills.
    function connect() {
      if ((0, _classPrivateFieldGet4["default"])(this, _connectCalled)) {
        console.warn('botframework-directlinejs: connect() can only be called once.');
        return Promise.resolve();
      }
      (0, _classPrivateFieldSet2["default"])(this, _connectCalled, true);
      if ((0, _classPrivateFieldGet4["default"])(this, _networkInformation)) {
        var _classPrivateFieldGet2 = (0, _classPrivateFieldGet4["default"])(this, _networkInformation),
          initialType = _classPrivateFieldGet2.type;
        (0, _classPrivateFieldSet2["default"])(this, _initialNetworkInformationType, initialType);
        if (initialType === 'none') {
          console.warn('botframework-directlinejs: Failed to connect while offline.');
          return Promise.reject(new Error('botframework-directlinejs: Failed to connect while offline.'));
        }
        (0, _classPrivateFieldGet4["default"])(this, _networkInformation).addEventListener('change', (0, _classPrivateFieldGet4["default"])(this, _handleNetworkInformationChange));
      }
      return (0, _get2["default"])((0, _getPrototypeOf2["default"])(WebSocketClientWithNetworkInformation.prototype), "connect", this).call(this);
    }
  }, {
    key: "disconnect",
    value: function disconnect() {
      var _classPrivateFieldGet3;
      (_classPrivateFieldGet3 = (0, _classPrivateFieldGet4["default"])(this, _networkInformation)) === null || _classPrivateFieldGet3 === void 0 ? void 0 : _classPrivateFieldGet3.removeEventListener('change', (0, _classPrivateFieldGet4["default"])(this, _handleNetworkInformationChange));
      (0, _get2["default"])((0, _getPrototypeOf2["default"])(WebSocketClientWithNetworkInformation.prototype), "disconnect", this).call(this);
    }
  }]);
  return WebSocketClientWithNetworkInformation;
}(_botframeworkStreaming.WebSocketClient);
exports["default"] = WebSocketClientWithNetworkInformation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYm90ZnJhbWV3b3JrU3RyZWFtaW5nIiwicmVxdWlyZSIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsImNhbGwiLCJlIiwiX2Nvbm5lY3RDYWxsZWQiLCJXZWFrTWFwIiwiX2hhbmRsZU5ldHdvcmtJbmZvcm1hdGlvbkNoYW5nZSIsIl9pbml0aWFsTmV0d29ya0luZm9ybWF0aW9uVHlwZSIsIl9uZXR3b3JrSW5mb3JtYXRpb24iLCJXZWJTb2NrZXRDbGllbnRXaXRoTmV0d29ya0luZm9ybWF0aW9uIiwiX1dlYlNvY2tldENsaWVudCIsIl9pbmhlcml0czIiLCJfc3VwZXIiLCJfcmVmIiwiX3RoaXMiLCJkaXNjb25uZWN0aW9uSGFuZGxlciIsIm5ldHdvcmtJbmZvcm1hdGlvbiIsInJlcXVlc3RIYW5kbGVyIiwidXJsIiwiX2NsYXNzQ2FsbENoZWNrMiIsInNldCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQyIiwid3JpdGFibGUiLCJ2YWx1ZSIsIl9jbGFzc1ByaXZhdGVGaWVsZEdldDQiLCJ0eXBlIiwiZGlzY29ubmVjdCIsIl9jbGFzc1ByaXZhdGVGaWVsZFNldDIiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwiY29ubmVjdCIsImNvbnNvbGUiLCJ3YXJuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJfY2xhc3NQcml2YXRlRmllbGRHZXQyIiwiaW5pdGlhbFR5cGUiLCJyZWplY3QiLCJFcnJvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfZ2V0MiIsIl9jbGFzc1ByaXZhdGVGaWVsZEdldDMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiV2ViU29ja2V0Q2xpZW50IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdHJlYW1pbmcvV2ViU29ja2V0Q2xpZW50V2l0aE5ldHdvcmtJbmZvcm1hdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXZWJTb2NrZXRDbGllbnQgfSBmcm9tICdib3RmcmFtZXdvcmstc3RyZWFtaW5nJztcblxuaW1wb3J0IHR5cGUgeyBSZXF1ZXN0SGFuZGxlciB9IGZyb20gJ2JvdGZyYW1ld29yay1zdHJlYW1pbmcnO1xuXG50eXBlIFdlYlNvY2tldENsaWVudFdpdGhOZXR3b3JrSW5mb3JtYXRpb25Jbml0ID0ge1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBvYnNlcnZlciBmdW5jdGlvbiBmb3IgZGlzY29ubmVjdGlvbiBvciBlcnJvciBzZW5kaW5nL3JlY2VpdmluZyB0aHJvdWdoIFdlYlNvY2tldC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBmdW5jdGlvbiBjb3VsZCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHRoZSBjYWxsZWUgaXMgZXhwZWN0ZWQgdG8gaWdub3JlIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAqL1xuICBkaXNjb25uZWN0aW9uSGFuZGxlcjogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcbiAgbmV0d29ya0luZm9ybWF0aW9uPzogTmV0d29ya0luZm9ybWF0aW9uIHwgdW5kZWZpbmVkO1xuICByZXF1ZXN0SGFuZGxlcjogUmVxdWVzdEhhbmRsZXI7XG4gIHVybDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViU29ja2V0Q2xpZW50V2l0aE5ldHdvcmtJbmZvcm1hdGlvbiBleHRlbmRzIFdlYlNvY2tldENsaWVudCB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkaXNjb25uZWN0aW9uSGFuZGxlcixcbiAgICBuZXR3b3JrSW5mb3JtYXRpb24sXG4gICAgcmVxdWVzdEhhbmRsZXIsXG4gICAgdXJsXG4gIH06IFdlYlNvY2tldENsaWVudFdpdGhOZXR3b3JrSW5mb3JtYXRpb25Jbml0KSB7XG4gICAgc3VwZXIoe1xuICAgICAgZGlzY29ubmVjdGlvbkhhbmRsZXIsXG4gICAgICByZXF1ZXN0SGFuZGxlcixcbiAgICAgIHVybFxuICAgIH0pO1xuXG4gICAgdGhpcy4jbmV0d29ya0luZm9ybWF0aW9uID0gbmV0d29ya0luZm9ybWF0aW9uO1xuICB9XG5cbiAgI2Nvbm5lY3RDYWxsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgLy8gQWNjb3JkaW5nIHRvIFczQyBOZXR3b3JrIEluZm9ybWF0aW9uIEFQSSwgaHR0cHM6Ly93aWNnLmdpdGh1Yi5pby9uZXRpbmZvLyNoYW5kbGluZy1jaGFuZ2VzLXRvLXRoZS11bmRlcmx5aW5nLWNvbm5lY3Rpb24uXG4gIC8vIE5ldHdvcmtJbmZvcm1hdGlvbi5vbkNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIG9uIGFueSBjaGFuZ2VzIHRvOiBgZG93bmxpbmtNYXhgLCBgdHlwZWAsIGBkb3dubGlua2AsIG9yIGBydHRgLlxuICAjaGFuZGxlTmV0d29ya0luZm9ybWF0aW9uQ2hhbmdlID0gKCkgPT5cbiAgICB0aGlzLiNpbml0aWFsTmV0d29ya0luZm9ybWF0aW9uVHlwZSA9PT0gdGhpcy4jbmV0d29ya0luZm9ybWF0aW9uLnR5cGUgfHwgdGhpcy5kaXNjb25uZWN0KCk7XG4gICNpbml0aWFsTmV0d29ya0luZm9ybWF0aW9uVHlwZTogTmV0d29ya0luZm9ybWF0aW9uWyd0eXBlJ107XG4gICNuZXR3b3JrSW5mb3JtYXRpb246IE5ldHdvcmtJbmZvcm1hdGlvbjtcblxuICAvLyBUT0RPOiBCZXR0ZXIsIHRoZSBgTmV0d29ya0luZm9ybWF0aW9uYCBpbnN0YW5jZSBzaG91bGQgYmUgcGFzc2VkIHRvIGBCcm93c2VyV2ViU29ja2V0Q2xpZW50YCAtPiBgQnJvd3NlcldlYlNvY2tldGAuXG4gIC8vICAgICAgIGBCcm93c2VyV2ViU29ja2V0YCBpcyB3aGVyZSBpdCBjcmVhdGVzIGBXZWJTb2NrZXRgIG9iamVjdC5cbiAgLy8gICAgICAgVGhlIGBOZXR3b3JrSW5mb3JtYXRpb25gIGluc3RhbmNlIHNob3VsZCBhY2NvbXBhbnkgYFdlYlNvY2tldGAgYW5kIGZvcmNpYmx5IGNsb3NlIGl0IG9uIGFib3J0LlxuICAvLyAgICAgICBNYXliZSBgYm90ZnJhbWV3b3JrLXN0cmVhbWluZ2Agc2hvdWxkIGFjY2VwdCBwb255ZmlsbHMuXG4gIGNvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuI2Nvbm5lY3RDYWxsZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybignYm90ZnJhbWV3b3JrLWRpcmVjdGxpbmVqczogY29ubmVjdCgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLicpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy4jY29ubmVjdENhbGxlZCA9IHRydWU7XG5cbiAgICBpZiAodGhpcy4jbmV0d29ya0luZm9ybWF0aW9uKSB7XG4gICAgICBjb25zdCB7IHR5cGU6IGluaXRpYWxUeXBlIH0gPSB0aGlzLiNuZXR3b3JrSW5mb3JtYXRpb247XG5cbiAgICAgIHRoaXMuI2luaXRpYWxOZXR3b3JrSW5mb3JtYXRpb25UeXBlID0gaW5pdGlhbFR5cGU7XG5cbiAgICAgIGlmIChpbml0aWFsVHlwZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignYm90ZnJhbWV3b3JrLWRpcmVjdGxpbmVqczogRmFpbGVkIHRvIGNvbm5lY3Qgd2hpbGUgb2ZmbGluZS4nKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdib3RmcmFtZXdvcmstZGlyZWN0bGluZWpzOiBGYWlsZWQgdG8gY29ubmVjdCB3aGlsZSBvZmZsaW5lLicpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4jbmV0d29ya0luZm9ybWF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuI2hhbmRsZU5ldHdvcmtJbmZvcm1hdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLmNvbm5lY3QoKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy4jbmV0d29ya0luZm9ybWF0aW9uPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLiNoYW5kbGVOZXR3b3JrSW5mb3JtYXRpb25DaGFuZ2UpO1xuICAgIHN1cGVyLmRpc2Nvbm5lY3QoKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUF5RCxTQUFBQyxhQUFBQyxPQUFBLFFBQUFDLHlCQUFBLEdBQUFDLHlCQUFBLG9CQUFBQyxxQkFBQSxRQUFBQyxLQUFBLE9BQUFDLGdCQUFBLGFBQUFMLE9BQUEsR0FBQU0sTUFBQSxNQUFBTCx5QkFBQSxRQUFBTSxTQUFBLE9BQUFGLGdCQUFBLG1CQUFBRyxXQUFBLEVBQUFGLE1BQUEsR0FBQUcsT0FBQSxDQUFBQyxTQUFBLENBQUFOLEtBQUEsRUFBQU8sU0FBQSxFQUFBSixTQUFBLFlBQUFELE1BQUEsR0FBQUYsS0FBQSxDQUFBUSxLQUFBLE9BQUFELFNBQUEsZ0JBQUFFLDJCQUFBLG1CQUFBUCxNQUFBO0FBQUEsU0FBQUosMEJBQUEsZUFBQU8sT0FBQSxxQkFBQUEsT0FBQSxDQUFBQyxTQUFBLG9CQUFBRCxPQUFBLENBQUFDLFNBQUEsQ0FBQUksSUFBQSwyQkFBQUMsS0FBQSxvQ0FBQUMsT0FBQSxDQUFBQyxTQUFBLENBQUFDLE9BQUEsQ0FBQUMsSUFBQSxDQUFBVixPQUFBLENBQUFDLFNBQUEsQ0FBQU0sT0FBQSw4Q0FBQUksQ0FBQTtBQUFBLElBQUFDLGNBQUEsb0JBQUFDLE9BQUE7QUFBQSxJQUFBQywrQkFBQSxvQkFBQUQsT0FBQTtBQUFBLElBQUFFLDhCQUFBLG9CQUFBRixPQUFBO0FBQUEs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