"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = dedupeFilenames;
var _parseFilename2 = _interopRequireDefault(require("./parseFilename"));
function dedupeFilenames(array) {
  var nextArray = [];
  array.forEach(function (value) {
    var _parseFilename = (0, _parseFilename2["default"])(value),
      extname = _parseFilename.extname,
      name = _parseFilename.name;
    var count = 0;
    var nextValue = value;
    while (nextArray.includes(nextValue)) {
      nextValue = [name, "(".concat(++count, ")")].filter(function (segment) {
        return segment;
      }).join(' ') + extname;
    }
    nextArray.push(nextValue);
  });
  return nextArray;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFyc2VGaWxlbmFtZTIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImRlZHVwZUZpbGVuYW1lcyIsImFycmF5IiwibmV4dEFycmF5IiwiZm9yRWFjaCIsInZhbHVlIiwiX3BhcnNlRmlsZW5hbWUiLCJwYXJzZUZpbGVuYW1lIiwiZXh0bmFtZSIsIm5hbWUiLCJjb3VudCIsIm5leHRWYWx1ZSIsImluY2x1ZGVzIiwiY29uY2F0IiwiZmlsdGVyIiwic2VnbWVudCIsImpvaW4iLCJwdXNoIl0sInNvdXJjZXMiOlsiLi4vc3JjL2RlZHVwZUZpbGVuYW1lcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFyc2VGaWxlbmFtZSBmcm9tICcuL3BhcnNlRmlsZW5hbWUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWR1cGVGaWxlbmFtZXMoYXJyYXk6IHN0cmluZ1tdKSB7XG4gICAgY29uc3QgbmV4dEFycmF5OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgYXJyYXkuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZXh0bmFtZSwgbmFtZSB9ID0gcGFyc2VGaWxlbmFtZSh2YWx1ZSk7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBuZXh0VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAobmV4dEFycmF5LmluY2x1ZGVzKG5leHRWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5leHRWYWx1ZSA9IFtuYW1lLCBgKCR7ICgrK2NvdW50KSB9KWBdLmZpbHRlcihzZWdtZW50ID0+IHNlZ21lbnQpLmpvaW4oJyAnKSArIGV4dG5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0QXJyYXkucHVzaChuZXh0VmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5leHRBcnJheTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLGVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVlLFNBQVNDLGVBQWVBLENBQUNDLEtBQWUsRUFBRTtFQUNyRCxJQUFNQyxTQUFtQixHQUFHLEVBQUU7RUFFOUJELEtBQUssQ0FBQ0UsT0FBTyxDQUFDLFVBQUFDLEtBQUssRUFBSTtJQUNuQixJQUFBQyxjQUFBLEdBQTBCLElBQUFDLDBCQUFhLEVBQUNGLEtBQUssQ0FBQztNQUF0Q0csT0FBTyxHQUFBRixjQUFBLENBQVBFLE9BQU87TUFBRUMsSUFBSSxHQUFBSCxjQUFBLENBQUpHLElBQUk7SUFDckIsSUFBSUMsS0FBSyxHQUFHLENBQUM7SUFDYixJQUFJQyxTQUFTLEdBQUdOLEtBQUs7SUFFckIsT0FBT0YsU0FBUyxDQUFDUyxRQUFRLENBQUNELFNBQVMsQ0FBQyxFQUFFO01BQ2xDQSxTQUFTLEdBQUcsQ0FBQ0YsSUFBSSxNQUFBSSxNQUFBLENBQVEsRUFBRUgsS0FBSyxPQUFNLENBQUNJLE1BQU0sQ0FBQyxVQUFBQyxPQUFPO1FBQUEsT0FBSUEsT0FBTztNQUFBLEVBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHUixPQUFPO0lBQ3pGO0lBRUFMLFNBQVMsQ0FBQ2MsSUFBSSxDQUFDTixTQUFTLENBQUM7RUFDN0IsQ0FBQyxDQUFDO0VBRUYsT0FBT1IsU0FBUztBQUNwQiIsImlnbm9yZUxpc3QiOltdfQ==